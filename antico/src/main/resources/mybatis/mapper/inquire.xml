<?xml version="1.0" encoding="UTF-8"?>

<!-- ==== mapper 기본설정 ==== -->
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="com.project.app.inquire.model.InquireDAO">
	
	<!-- 문의 내역 조회 -->
	<select id="inquire_list" resultType="InquireVO">
		SELECT pk_inquire_no, fk_member_no, inquire_title, inquire_content, inquire_file_size, inquire_regdate, inquire_status, inquire_secret
		FROM tbl_inquire
		order by pk_inquire_no desc
	</select>
	
	<!-- 파일첨부가 없는 경우의 1:1문의 -->
	<insert id="add" parameterType="InquireVO">
		insert into tbl_inquire(pk_inquire_no, fk_member_no, inquire_title, inquire_content, inquire_status, inquire_secret, inquire_regdate)
        values(inquire_seq.nextval, 3, #{inquire_title}, #{inquire_content}, default, default, default) 
	</insert>

	<!-- 파일첨부가 있는 경우의 1:1문의 -->
	<insert id="add_withFile" parameterType="InquireVO">
		insert into tbl_inquire(pk_inquire_no, fk_member_no, inquire_title, inquire_content, inquire_status, inquire_secret, inquire_regdate,
							    inquire_orgfilename, inquire_filename, inquire_file_size)  
        values(inquire_seq.nextval, 3, #{inquire_title}, #{inquire_content}, default, default, default,
        	   #{inquire_filename}, #{inquire_orgfilename}, #{inquire_file_size})
	</insert>
	
</mapper>


